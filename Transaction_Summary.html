<!DOCTYPE html>

<html class="light" lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Approval Summary - Gaming Purchase - MyMULA Junior</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@400;500;700&amp;display=swap"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
        rel="stylesheet" />
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#0459ae",
                        "background-light": "#f5f7f8",
                        "background-dark": "#0f1923",
                    },
                    fontFamily: {
                        "display": ["Public Sans", "sans-serif"]
                    },
                    borderRadius: { "DEFAULT": "0.5rem", "lg": "1rem", "xl": "1.5rem", "full": "9999px" },
                },
            },
        }
    </script>
    <style>
        .material-symbols-outlined {
            font-variation-settings:
                'FILL' 0,
                'wght' 400,
                'GRAD' 0,
                'opsz' 24
        }
    </style>
    <style>
        body {
            min-height: max(884px, 100dvh);
        }
    </style>
</head>

<body class="font-display bg-background-light dark:bg-background-dark">
    <div class="relative flex min-h-screen w-full flex-col group/design-root overflow-x-hidden">
        <!-- Top App Bar -->
        <header
            class="sticky top-0 z-10 flex h-16 shrink-0 items-center justify-between border-b border-b-slate-200 bg-white/80 px-4 backdrop-blur-sm dark:border-b-slate-800 dark:bg-background-dark/80">
            <button onclick="history.back()"
                class="flex size-10 shrink-0 items-center justify-center text-[#111418] dark:text-white">
                <span class="material-symbols-outlined text-2xl">arrow_back</span>
            </button>
            <h1
                class="flex-1 text-center text-lg font-bold leading-tight tracking-[-0.015em] text-[#111418] dark:text-white">
                Approval Details</h1>
            <div class="size-10 shrink-0"></div>
        </header>
        <main class="flex-1 pb-32">
            <!-- Main Card -->
            <div class="p-4">
                <div
                    class="flex flex-col items-stretch justify-start rounded-xl bg-white shadow-[0_4px_12px_rgba(0,0,0,0.05)] dark:bg-slate-900">
                    <div class="flex flex-col items-stretch justify-center gap-2 p-5">
                        <div class="flex items-start justify-between gap-3">
                            <p
                                class="text-lg font-bold leading-tight tracking-[-0.015em] text-[#111418] dark:text-white">
                                Gaming Purchase Approval Summary</p>
                            <div
                                class="shrink-0 rounded-full bg-green-100 px-3 py-1 text-xs font-medium text-green-700 dark:bg-green-900/50 dark:text-green-300">
                                Completed</div>
                        </div>
                        <p class="text-sm font-normal leading-normal text-[#5f758c] dark:text-slate-400">
                            A digital approval issued for an in-game purchase exceeding RM20. <span
                                class="text-slate-400 dark:text-slate-500">Kelulusan digital untuk pembelian dalam
                                permainan melebihi RM20.</span>
                        </p>
                        <p class="text-sm font-normal leading-normal text-[#5f758c] dark:text-slate-400">Reference ID:
                            MYMULA-GAME-120925</p>
                    </div>
                    <!-- Details List -->
                    <div class="grid grid-cols-1 px-5">
                        <div
                            class="grid grid-cols-[auto_1fr] items-center gap-x-4 border-t border-t-[#dbe0e6] py-4 dark:border-t-slate-800">
                            <span class="material-symbols-outlined text-xl text-primary">person</span>
                            <div>
                                <p class="text-sm font-normal leading-normal text-[#111418] dark:text-slate-200">Ali</p>
                                <p class="text-xs text-[#5f758c] dark:text-slate-400">Child Name (Nama Anak)</p>
                            </div>
                        </div>
                        <div
                            class="grid grid-cols-[auto_1fr] items-center gap-x-4 border-t border-t-[#dbe0e6] py-4 dark:border-t-slate-800">
                            <span class="material-symbols-outlined text-xl text-primary">stadia_controller</span>
                            <div>
                                <p class="text-sm font-normal leading-normal text-[#111418] dark:text-slate-200">Mobile
                                    Legends</p>
                                <p class="text-xs text-[#5f758c] dark:text-slate-400">Game (Permainan)</p>
                            </div>
                        </div>
                        <div
                            class="grid grid-cols-[auto_1fr] items-center gap-x-4 border-t border-t-[#dbe0e6] py-4 dark:border-t-slate-800">
                            <span class="material-symbols-outlined text-xl text-primary">card_giftcard</span>
                            <div>
                                <p class="text-sm font-normal leading-normal text-[#111418] dark:text-slate-200">RM50
                                    Skin / Loot Box</p>
                                <p class="text-xs text-[#5f758c] dark:text-slate-400">Item (Item)</p>
                            </div>
                        </div>
                        <div
                            class="grid grid-cols-[auto_1fr] items-center gap-x-4 border-t border-t-[#dbe0e6] py-4 dark:border-t-slate-800">
                            <span class="material-symbols-outlined text-xl text-primary">payments</span>
                            <div>
                                <p class="text-sm font-normal leading-normal text-[#111418] dark:text-slate-200">RM50.00
                                </p>
                                <p class="text-xs text-[#5f758c] dark:text-slate-400">Amount (Jumlah)</p>
                            </div>
                        </div>
                    </div>
                    <!-- Timestamps -->
                    <div class="border-t border-t-[#dbe0e6] px-5 py-2 dark:border-t-slate-800">
                        <div class="grid grid-cols-[1fr_auto] items-center py-2">
                            <p class="text-xs text-[#5f758c] dark:text-slate-400">Request Initiated (Permintaan
                                Dimulakan)</p>
                            <p id="time-request" class="text-xs font-medium text-[#111418] dark:text-slate-300"></p>
                        </div>
                        <div class="grid grid-cols-[1fr_auto] items-center py-2">
                            <p class="text-xs text-[#5f758c] dark:text-slate-400">Guardian Approval (Kelulusan Penjaga)
                            </p>
                            <p id="time-approval" class="text-xs font-medium text-[#111418] dark:text-slate-300"></p>
                        </div>
                        <div class="grid grid-cols-[1fr_auto] items-center py-2">
                            <p class="text-xs text-[#5f758c] dark:text-slate-400">Digital Signature Completed
                                (Tandatangan Digital Selesai)</p>
                            <p id="time-signature" class="text-xs font-medium text-[#111418] dark:text-slate-300"></p>
                        </div>
                        <div class="grid grid-cols-[1fr_auto] items-center py-2">
                            <p class="text-xs text-[#5f758c] dark:text-slate-400">Approval Delivered to Game (Kelulusan
                                Dihantar)</p>
                            <p id="time-delivered" class="text-xs font-medium text-[#111418] dark:text-slate-300"></p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <!-- Bottom Action Button -->
        <footer id="footer-actions"
            class="fixed bottom-0 left-0 z-10 w-full border-t border-t-slate-200 bg-white/80 p-4 backdrop-blur-sm dark:border-t-slate-800 dark:bg-background-dark/80">
            <button id="footer-btn" onclick="handleBackButton()"
                class="flex h-12 w-full items-center justify-center rounded-full bg-primary text-base font-bold text-white">
                Back to Requests
            </button>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Determine if accessed from junior or adult context
            const isJunior = sessionStorage.getItem('current_user_type') === 'junior' ||
                document.referrer.includes('Transaction_Progress_Tracker');

            const btn = document.getElementById('footer-btn');
            if (isJunior) {
                btn.textContent = 'Back to Home';
            } else {
                btn.textContent = 'Back to Requests';
            }

            // Format date and time
            function formatDateTime(date) {
                const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
                const month = months[date.getMonth()];
                const day = date.getDate();
                let hours = date.getHours();
                const minutes = date.getMinutes().toString().padStart(2, '0');
                const ampm = hours >= 12 ? 'PM' : 'AM';
                hours = hours % 12;
                hours = hours ? hours : 12;
                return `${month} ${day}, ${hours}:${minutes} ${ampm}`;
            }

            // Get current time
            const now = new Date();

            // Set timestamps (simulating a completed flow)
            document.getElementById('time-request').textContent = formatDateTime(now);

            // Add 1 minute for guardian approval
            const approvalTime = new Date(now.getTime() + 1 * 60000);
            document.getElementById('time-approval').textContent = formatDateTime(approvalTime);

            // Add 2 minutes for digital signature
            const signatureTime = new Date(now.getTime() + 2 * 60000);
            document.getElementById('time-signature').textContent = formatDateTime(signatureTime);

            // Add 3 minutes for delivery
            const deliveredTime = new Date(now.getTime() + 3 * 60000);
            document.getElementById('time-delivered').textContent = formatDateTime(deliveredTime);
        });

        function handleBackButton() {
            const isJunior = sessionStorage.getItem('current_user_type') === 'junior' ||
                document.referrer.includes('Transaction_Progress_Tracker');

            if (isJunior) {
                window.location.href = 'mainpage_home.html';
            } else {
                window.location.href = 'adult_home.html';
            }
        }
    </script>
</body>

</html>