<!DOCTYPE html>

<html class="light" lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Consent Summary - Dental Procedure - MyMULA Junior</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,100..900;1,100..900&amp;display=swap"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
        rel="stylesheet" />
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#0b73da",
                        "background-light": "#f5f7f8",
                        "background-dark": "#101922",
                    },
                    fontFamily: {
                        "display": ["Public Sans"]
                    },
                    borderRadius: { "DEFAULT": "0.5rem", "lg": "1rem", "xl": "1.5rem", "full": "9999px" },
                },
            },
        }
    </script>
    <style>
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
    </style>
    <style>
        body {
            min-height: max(884px, 100dvh);
        }
    </style>
</head>

<body class="bg-background-light dark:bg-background-dark font-display">
    <div class="relative flex h-auto min-h-screen w-full flex-col group/design-root overflow-x-hidden"
        style='font-family: "Public Sans", "Noto Sans", sans-serif;'>
        <!-- Top App Bar -->
        <div
            class="flex items-center bg-white dark:bg-background-dark p-4 pb-2 justify-between sticky top-0 z-10 border-b border-gray-200 dark:border-gray-700">
            <div onclick="window.location.href='Dental_Progress_Tracker.html'"
                class="text-[#111418] dark:text-white flex size-12 shrink-0 items-center -ml-4 cursor-pointer">
                <span class="material-symbols-outlined text-2xl notranslate">arrow_back_ios_new</span>
            </div>
            <h2
                class="text-[#111418] dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center">
                Consent Details</h2>
            <div class="flex size-12 shrink-0 items-center"></div> <!-- Spacer -->
        </div>
        <!-- Main Content -->
        <div class="flex-grow pb-32">
            <!-- Primary Information Card -->
            <div class="p-4 @container">
                <div
                    class="flex flex-col items-stretch justify-start rounded-xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] bg-white dark:bg-gray-800">
                    <div class="flex w-full min-w-72 grow flex-col items-stretch justify-center gap-2 p-4">
                        <p class="text-[#111418] dark:text-white text-lg font-bold leading-tight tracking-[-0.015em]">
                            Dental Procedure Consent Summary</p>
                        <div class="flex flex-col gap-1">
                            <p class="text-[#60758a] dark:text-gray-400 text-base font-normal leading-normal">Ref:
                                MYMULA-MED-120925</p>
                            <p class="text-[#60758a] dark:text-gray-400 text-sm font-normal leading-normal mt-1">
                                This consent confirms authorization for a dental procedure and acknowledges
                                understanding of clinic details, risks, and care. Kelulusan ini mengesahkan persetujuan
                                untuk prosedur pergigian dan pemahaman terhadap butiran klinik serta risiko.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Consent Information Block -->
            <div class="px-4 py-2">
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-[0_2px_8px_rgba(0,0,0,0.05)]">
                    <div class="p-4 grid grid-cols-[35%_1fr] gap-x-4">
                        <div class="col-span-2 grid grid-cols-subgrid py-4">
                            <p class="text-[#60758a] dark:text-gray-400 text-sm font-normal leading-normal">Patient
                                Name<br /><span class="text-xs text-gray-400 dark:text-gray-500">Nama Pesakit</span></p>
                            <p
                                class="text-[#111418] dark:text-white text-sm font-normal leading-normal self-center text-right">
                                Ali</p>
                        </div>
                        <div
                            class="col-span-2 grid grid-cols-subgrid border-t border-t-[#dbe0e6] dark:border-t-gray-700 py-4">
                            <p class="text-[#60758a] dark:text-gray-400 text-sm font-normal leading-normal">
                                Procedure<br /><span class="text-xs text-gray-400 dark:text-gray-500">Prosedur</span>
                            </p>
                            <p
                                class="text-[#111418] dark:text-white text-sm font-normal leading-normal self-center text-right">
                                Tooth Extraction / Pencabutan Gigi</p>
                        </div>
                        <div
                            class="col-span-2 grid grid-cols-subgrid border-t border-t-[#dbe0e6] dark:border-t-gray-700 py-4">
                            <p class="text-[#60758a] dark:text-gray-400 text-sm font-normal leading-normal">
                                Clinic<br /><span class="text-xs text-gray-400 dark:text-gray-500">Klinik</span></p>
                            <p
                                class="text-[#111418] dark:text-white text-sm font-normal leading-normal self-center text-right">
                                MyMULA Partner Clinic</p>
                        </div>
                        <div
                            class="col-span-2 grid grid-cols-subgrid border-t border-t-[#dbe0e6] dark:border-t-gray-700 py-4">
                            <p class="text-[#60758a] dark:text-gray-400 text-sm font-normal leading-normal">Consent
                                Initiated<br /><span class="text-xs text-gray-400 dark:text-gray-500">Permintaan
                                    Dihantar</span></p>
                            <p id="consent-initiated-time"
                                class="text-[#111418] dark:text-white text-sm font-normal leading-normal self-center text-right">
                            </p>
                        </div>
                        <div
                            class="col-span-2 grid grid-cols-subgrid border-t border-t-[#dbe0e6] dark:border-t-gray-700 py-4">
                            <p class="text-[#60758a] dark:text-gray-400 text-sm font-normal leading-normal">Guardian
                                Approval<br /><span class="text-xs text-gray-400 dark:text-gray-500">Kelulusan
                                    Penjaga</span></p>
                            <p id="guardian-approval-time"
                                class="text-[#111418] dark:text-white text-sm font-normal leading-normal self-center text-right">
                            </p>
                        </div>
                        <div
                            class="col-span-2 grid grid-cols-subgrid border-t border-t-[#dbe0e6] dark:border-t-gray-700 py-4">
                            <p class="text-[#60758a] dark:text-gray-400 text-sm font-normal leading-normal">Document
                                Delivered<br /><span class="text-xs text-gray-400 dark:text-gray-500">Dokumen
                                    Dihantar</span></p>
                            <p id="document-delivered-time"
                                class="text-[#111418] dark:text-white text-sm font-normal leading-normal self-center text-right">
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Digital Signature Section -->
            <div class="px-4 py-2">
                <div class="bg-white dark:bg-gray-800 rounded-xl shadow-[0_2px_8px_rgba(0,0,0,0.05)] p-4">
                    <p class="text-center text-sm font-medium text-[#111418] dark:text-white mb-3">Digitally Signed via
                        MyMULA Smart ID</p>
                    <div id="signatureContainer"
                        class="mx-auto flex h-20 w-full max-w-xs items-center justify-center rounded-lg border border-dashed border-slate-300 bg-slate-50 dark:border-slate-700 dark:bg-slate-800/50">
                        <img id="signatureImage" alt="Guardian's digital signature" class="h-16 object-contain"
                            src="" />
                    </div>
                    <div class="text-center mt-3">
                        <p class="text-xs text-[#60758a] dark:text-gray-400">ID: ***12-5678</p>
                        <p class="text-xs text-[#60758a] dark:text-gray-400">Hash: a12b2c3â€¦</p>
                    </div>
                    <div
                        class="flex items-center justify-center gap-2 rounded-lg bg-primary/10 p-3 mt-3 text-center text-xs text-primary/80 dark:bg-primary/20 dark:text-primary/90">
                        <span class="material-symbols-outlined notranslate text-base">verified_user</span>
                        <p>Your private information remains protected. <span
                                class="text-primary/60 dark:text-primary/70">Maklumat peribadi anda kekal
                                dilindungi.</span></p>
                    </div>
                </div>
            </div>

        </div>
        <!-- Bottom Sticky Action Buttons -->
        <div
            class="fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-background-dark/80 backdrop-blur-sm p-4 border-t border-gray-200 dark:border-gray-700">
            <div class="flex flex-col gap-3">
                <button onclick="window.location.href='mainpage_home.html'"
                    class="flex items-center justify-center w-full px-4 py-3 text-base font-bold text-white bg-primary rounded-lg shadow-lg shadow-primary/30">
                    Back to Home
                </button>
            </div>
        </div>
    </div>
    <script>
        // Format time function
        function formatTime(date) {
            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
            const month = months[date.getMonth()];
            const day = date.getDate();
            let hours = date.getHours();
            const minutes = date.getMinutes().toString().padStart(2, '0');
            const ampm = hours >= 12 ? 'PM' : 'AM';
            hours = hours % 12;
            hours = hours ? hours : 12;
            return `${month} ${day}, ${hours}:${minutes} ${ampm}`;
        }

        // Update all times to current time
        function updateTimes() {
            const now = new Date();
            const formattedTime = formatTime(now);

            document.getElementById('consent-initiated-time').textContent = formattedTime;
            document.getElementById('guardian-approval-time').textContent = formattedTime;
            document.getElementById('document-delivered-time').textContent = formattedTime;
        }

        // Load guardian signature from localStorage
        function loadGuardianSignature() {
            const signatureImage = localStorage.getItem('guardian_signature_image');
            const signatureContainer = document.getElementById('signatureContainer');
            const signatureImg = document.getElementById('signatureImage');

            if (signatureImage) {
                signatureImg.src = signatureImage;
                signatureImg.style.display = 'block';
            } else {
                // Fallback: show placeholder text if no signature found
                signatureContainer.innerHTML = '<p class="text-sm text-slate-400">Signature not available</p>';
            }
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', function () {
            updateTimes();
            loadGuardianSignature();
        });
    </script>
</body>

</html>